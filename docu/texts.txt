Texte

---DEUTSCH---

Dieses Repository enthält einen Webhook in PHP für das Satelliten IoT von SWARM (https://swarm.space). Mit SWARM lassen sich auf einfachste Art weltweit Nachrichten per Satelliten versenden und empfangen!

SWARM betreibt ein Netz von aktuell (09/2022) etwa 150 Kleinst-Satelliten im erdnahen Orbit von ca. 500-600km Höhe. Die Geschwindigkeit dieser "LEO"-Satelliten (für "Low-Earth-Orbit") beträgt ca. 7.5 km/Sec und damit fast 22-fache Schallgeschwindigkeit! Eine Erdumrundung benötigt ca, 90 Minuten. Originell ist die Namensgebung: die Satelliten tragen alle den Namen "Spacebee-xx" und dieser Schwarm sendet seine Daten an den "Hive" ("Bienenstock").

Sparkfun bietet dazu einen Eval-Kit an, der auch die nötige Software enthält um mit dem Modem M138 (https://www.sparkfun.com/products/19236) zu kommunizieren. Die ersten 50 Nachrichten sind kostenlos! Danach fallen jeweils 5 US$/Monat für max. 750 Nachrichten (a max. 192 Bytes an). In der Summe sind das 140 kB (Stand 09/2022)! Downlink (Nachrichten ans Modem) ist ebenfalls möglich, aber nur wenn der SWARM Server die GPS-Daten des Modems kennt.

Um die Daten vom SWARM Server weiterzutranportieren, sind Webhooks eine einfache uns schnelle Möglichkeit. Dies ist eine einfache Demo Implementierung in PHP. Alle eingehenden Nachrichten werden als Mail an die angegebene Adresse weitergeschickt.

Inbetriebnahme des Eval-Kits in Kürze

Das Sparkfun-Trägerboard enthält im wesentlichen nur einen USB-COM-Port Treiber, einen mPCI52 Sockel für das Modem M138 und einen USB-C Sockel. Das Modem benötigt Stromspitzen von max. 1 Ampere, daher ist es empfehlen einen USB3-Hub mit externem Netzteil zu verwenden. Das externe Netzteil hat auch den Vorteil, dass der PC separat vom Modem ausgeschaltet werden kann.

Die mitgelieferte GPS-Antenne sollte (wie im Bild) ein paar cm über der Trägerplatte befestigt werden. 

Die optimale Stelle zum Betrieb des Modems ist im Aussenbereich, mit möglichst freier Rundum-Sicht zum Himmel und keine Gegenstände im Radius von ca. 1 Meter rund um die Antenne. Aber in Tests funktionierte die Übertragung selbst im Büro, wenn sich das Modem direkt an einer grossen Fensterfläche befand, es dauerte halt einfach nur länger...

Nach der Anmeldung auf dem SWARM Hive (https://bumblebee.hive.swarm.space ) muss das Modem per QR-Code registriert werden. Dies geht am einfachsten per Smartphone.

Die Kommandos des Modems sind übersichtlich und lassen sich sehr einfach mit der SparkFun M138 GUI senden.

Es ist ratsam den "Receive-Test" auf z.B. 10 Sekunden zu setzen. Dabei zeigt das Modem laufend den Noisefloor oder erkannte Satelliten an. Nach Power On dauert es eine Weile (ca. 15 - 120 Sekunden), bis das GPS des Modems die Uhrzeit empfangen konnte. Erst mit gültiger Uhrzeit können Nachrichten verschickt werden. Nach weiteren (max. 10 Minuten) sollte das GPS auch die Position kennen. Wichtig: bei Nachrichten wird die Position zum Eingabzeitpunkt (nicht zum Sendezeitpunkt) verwendet. Alle eingegebenen Nachrichten werden aber auf dem Modem nichtflüchtig gespeichert (per Default 2 Tage lang). Daher kann man z.B. die Nachrichten im Büro eingeben und danach das Modem (z.B. mit einem USB Netzteil) ins Freie bringen und warten.
Bei einem laufenden PC in direkter Nähe ist der Noisfloor oft höher als -90 dBm und damit zu hoch, aber bereits ein paar Meter Abstand zu "Störern" reicht auch im urbanen Bereich völlig aus um auf Top Werte (unter -100 dBm) zu kommen. 

In der Regel dauert es nicht lange, bis Satelliten in Reichweite kommen (Im Schnitt etwa max. 15-60 Minuten). Für "Ungeduldige" gibt es von SWARM das Tools Pass-Checker (https://kube.tools.swarm.space), aber da die Umlaufdaten fast aller Satelliten öffentlich  sind, gibt es jede Menge andere Visualisierungs-Tools dazu im Internet (z.B. https://www.n2yo.com, https://satellitetracker.net/ etc.. Tipp: Suche nach "Spacebee-xx").

Interessant ist die Reichweite der SWARM Datenübertragung: Bei guten Bedingungen kann das Modem eine Spacbee bis zu ca. 8 Minuten verfolgen. In dieser Zeit legt der Satellit fast 4000 km zurück! Die Kommunikation erfolgt im VHF-Band bei ca. 140 MHz und es wird ein LoRa-basiertes Übertragungssystem verwendet.

Maximal 90 Minuten (aber meist deutlich früher) nachdem eine Spacbee eine Nachricht vom Modem in Empfang genommen hat, wird diese über eine Groundstation zum Hive geschickt.

Für den Downlink, also Daten vom Hive ans Modem, gibt der Hive anhand der (bekannten) GPS-Position des Modems einem der nächsten vorbeifliegenden Spacbees mit. Daher kann dies durchaus auch mal etwas länger dauern (oft im Bereich 2-12 Stunden). Aber Uplink ist ist ja eh die wichtigere Richtung.


---ENGLISH--



